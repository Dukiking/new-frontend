<!DOCTYPE html>
<html lang="en">
  <head>
  	<meta charset="UTF-8" />
  	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	    <meta http-equiv="X-UA-Compatible" content="ie-edge" />
      <link href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
      <script src="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
      <script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
      <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

         <!--     <script>
    $('#myDropdown').on('show.bs.dropdown', function () {
        // do something...

      })
    </script> -->
     <script>
        let data = [];
        function onSelected() {
            const dropdown = document.getElementById("validationCustom03");
            const selected = dropdown.options[dropdown.selectedIndex].value;
            document.getElementById("bild").innerHTML = data[selected].bild;
            document.getElementById("kategorie").innerHTML = data[selected].kategorie;
            document.getElementById("version").innerHTML = data[selected].version;
            document.getElementById("text").innerHTML = data[selected].text;
        }
       async function loadData() {
         data = await (await fetch('/signals')).json();
         console.log(JSON.stringify(data));
         setDropdown();
        }
        function setDropdown() {
          var catList = document.getElementById("validationCustom03");
          while (catList.options.length) {
              catList.remove(0);
          }
          if (data) {
            data.forEach((val, idx) => {
              const opt = new Option(val.text, idx);
              catList.options.add(opt);
            })
          }
        }
        loadData();

      </script>

    <title>Signal_Mngmnt</title>
   </head>
   <body>


      <div class="row">
        <div class="col-md-6 mb-3">
          <label for="validationCustom03">Category:</label>
            <select class="dropdown form-control form-control-lg" name="category" id="validationCustom03" onchange="onSelected()" required>
              <option class="dropdown-item" value="">Choose... </option>
              <option value="Classroom Instruction and Assessment">Classroom Instruction and Assessment</option>
              <option value="Curriculum Development and Alignment">Curriculum Development and Alignment</option>
              <option value="District Committee">District Committee</option>
              <option value="Meeting">Meeting</option>
              <option value="Other Category">Other Category</option>
              <option value="Professional Conference">Professional Conference</option>
              <option value="Professional Workshop / Training">Professional Workshop / Training</option>
              <option value="Pupil Services">Pupil Services</option>
            </select>
        </div>
      </div>
      <div class="row">
        <div class="col-md-6 mb-3">Text</div>
        <div class="col-md-6 mb-3" id="text"></div>
      </div>
      <div class="row">
        <div class="col-md-6 mb-3">Kategorie</div>
        <div class="col-md-6 mb-3" id="kategorie"></div>
      </div>
      <div class="row">
        <div class="col-md-6 mb-3">Bild</div>
        <div class="col-md-6 mb-3" id="bild"></div>
      </div>
      <div class="row">
        <div class="col-md-6 mb-3">Verison</div>
        <div class="col-md-6 mb-3" id="version"></div>
      </div>
      <form>
          <div class="input-group mb-3">
              <div class="input-group-prepend">
                  <span class="input-group-text" id="inputGroup-sizing-default">SignalId</span>
              </div>
              <input type="text" class="form-control" aria-label="Default" aria-describedby="inputGroup-sizing-default" readonly>
          </div>
          <div class="input-group mb-3">
              <div class="input-group-prepend">
                  <span class="input-group-text" id="inputGroup-sizing-default">Name</span>
              </div>
              <input type="text" class="form-control" aria-label="Default" aria-describedby="inputGroup-sizing-default">
          </div>
          <div class="input-group mb-3">
              <div class="input-group-prepend">
                  <span class="input-group-text" id="inputGroup-sizing-default">Name</span>
              </div>
              <input type="text" class="form-control" aria-label="Default" aria-describedby="inputGroup-sizing-default">
          </div>
          <div class="input-group mb-3">
              <div class="input-group-prepend">
                  <span class="input-group-text" id="inputGroup-sizing-default">Name</span>
              </div>
              <input type="text" class="form-control" aria-label="Default" aria-describedby="inputGroup-sizing-default">
          </div>


          <div class="form-group form-check">
              <input type="checkbox" class="form-check-input" id="exampleCheck1">
              <label class="form-check-label" for="exampleCheck1">Stromanschluss</label>
          </div>
          <button type="submit" class="btn btn-primary">Submit</button>
          <button class="btn btn-secondary" type="reset"> New
          </button>
      </form>

   </body>
</html>
